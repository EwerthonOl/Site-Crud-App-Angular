<!-- FORMULARIO E HEADER -->
<section id="sectionFormCompleto">
  <!-- CABEÇALHO -->
  <article mat-dialog-title class="title">
    <h2>Formulário do Produto</h2>
  </article>

  <!-- CAMPOS FORM E BUTÕES -->
  <form
    mat-dialog-content
    class="formProduto"
    [formGroup]="formProduto"
    (ngSubmit)="submitForm()"
  >
    <!-- CAMPO NOME -->
    <div class="row">
      <mat-form-field>
        <mat-label>Nome do produto</mat-label>
        <input
          title="Nome do produto"
          matInput
          type="text"
          placeholder="Ex. Pneu Choque"
          formControlName="nomeProduto"
          [errorStateMatcher]="matcher"
          required
        />

        @if (formProduto.get('nomeProduto') ?? true) {
        <mat-error>O nome é <strong>obrigatório.</strong></mat-error>
        }
      </mat-form-field>
    </div>

    <!-- CAMPO CÓDIGO E PREÇO -->
    <div class="row">
      <mat-form-field>
        <mat-label>Código</mat-label>
        <input
          title="Código do produto"
          matInput
          type="number"
          placeholder="Ex. 10"
          formControlName="codProduto"
          [errorStateMatcher]="matcher"
          required
        />

        @if (formProduto.get('codProduto') ?? true) {
        <mat-error class="error"
          >O código é <strong>obrigatório.</strong></mat-error
        >
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label>Preço</mat-label>
        <input
          title="Preço do produto"
          matInput
          type="number"
          class="example-right-align"
          placeholder="Ex. 100"
          formControlName="precoProduto"
          [errorStateMatcher]="matcher"
          required
        />
        <span matTextPrefix>R$&nbsp;</span>
        <span matTextSuffix>.00</span>

        @if (formProduto.get('precoProduto') ?? true) {
        <mat-error>O preço é <strong>obrigatório.</strong></mat-error>
        }
      </mat-form-field>
    </div>

    <!-- CAMPO DESCRIÇÃO -->
    <div class="row">
      <mat-form-field>
        <mat-label>Descrição do produto</mat-label>
        <textarea
          title="Descrição do produto"
          matInput
          type="textarea"
          placeholder="Ex. Um pneu da marca Choque, cuidado ao manusear"
          formControlName="descProduto"
        ></textarea>
      </mat-form-field>
    </div>

    <!-- BOTÕES SALVAR E CANCELAR FORM -->
    <div mat-dialog-actions class="buttonsCancelSave">
      <button
        title="Botão de cancelar"
        mat-raised-button
        type="button"
        mat-dialog-close="false"
      >
        Cancelar
      </button>
      <button
        title="Botão de salvar"
        mat-raised-button
        color="primary"
        type="submit"
      >
        {{ data ? "Atualizar" : "Salvar" }}
      </button>
    </div>
  </form>
</section>
